# 点击[:rocket::rocket::rocket:]可以看到知识点在哪

---

## 转转-Java后端开发一、二面+hr面
> 作者：Todo_
链接：https://www.nowcoder.com/discuss/732376?source_id=discuss_experience_nctrack&channel=-1
来源：牛客网

### 1. 项目的超卖如何解决的？
[:rocket::rocket::rocket:](../商城类问题/商城类问题.md)
### 2. 排序算法有哪些？
[:rocket::rocket::rocket:](../数据结构和算法/排序算法.md)
### 3. 堆排序的时间复杂度？说说堆排序的排序过程，是怎么得到这个时间复杂度的？
- n log n 
- 每个堆有排序，整体有排序 
### 4. Object类中有哪些方法？
[:rocket::rocket::rocket:](../Java-基础/Object.md)
### 5. wait()和sleep()的区别？
- wait是等待锁对象唤醒 如果加了时间，是等待时间后解除等待 是object的方法
- sleep 是阻塞有限时间后自动解除
### 6. 线程池的参数和作用？线程池的执行流程/原理？
[:rocket::rocket::rocket:](../Java-多线程/线程池.md)
### 7. JVM内存模型，垃圾回收算法？
内存结构:[:rocket::rocket::rocket:](../Java-JVM/内存结构.md)

垃圾回收:[:rocket::rocket::rocket:](../Java-JVM/垃圾回收.md)
### 8. HashMap的容量为什么要初始化为2的n次幂？
[:rocket::rocket::rocket:](../Java-基础/容器.md#hashmap)
### 9. HashMap和ConcurrentHashMap的区别？
### 10. ConcurrentHashMap的扩容过程，源码有没有看过？（没有
### 11. 说说你对Synchronized的理解，底层原理？
### 12. 除了Synchronized，还知道Java中的其他锁吗？
### 13. 说说你对Lock/ReentraLock的理解？有没有看过源码（没有
### 14. 说说你对MySQL索引的理解，什么是聚簇索引和非聚簇索引？
### 15. 如何根据索引查找数据的，索引执行的流程/原理？
### 16. MySQL的事务隔离级别？
### 17. MySQL是如何解决幻读的？
### 18. Redis有哪些了解，基本数据类型有哪些，底层实现知道吗？
### 19. Redis的缓存淘汰策略、持久化机制说一下？
### 20. 项目如何限流？
### 21. 添加购物车时，数据库层面是如何操作的？
### 22. 知道接口的幂等性和非幂等性吗？
### 23. 项目里面有没有考虑幂等性？
### 24. 自定义线程池需要关注的参数有哪些？
### 25. 线程池的运行原理？
### 26. 阻塞队列满了以后，新进来的线程是执行队列头部的任务还是队尾的任务？
### 27. 如果阻塞队列满了以后，系统重启/宕机，需要考虑什么情况？如何做？
### 28. synchronized锁的底层原理？
### 29. synchronized锁和lock锁的区别？


---

## 渤海银行提前批面试9.6
> 作者：牛客844244425号
链接：https://www.nowcoder.com/discuss/733148?source_id=discuss_experience_nctrack&channel=-1
来源：牛客网

### 1.多线程中run()和start()方法的区别？
- start() 方法则是 Thread 类的方法，用来异步启动一个线程，然后主线程立刻返回。该启动的线程不会马上运行，会放到等待队列中等待 CPU 调度，只有线程真正被 CPU 调度时才会调用 run() 方法执行。
- run方法是线程实际运行的方法

### 2.synchronized和lock的区别？
- 区别在与实现机制不同，synchronized是使用指令实现，lock是主要用CAS实现

[:rocket::rocket::rocket:](../Java-多线程/锁机制.md)

### 3.final fianaly finanize

[:rocket::rocket::rocket:](../Java-基础/Java关键字.md#final fianaly finanize)

### 4.数据库三范式
- 第一范式：要求有主键，并且要求每一个字段原子性不可再分
- 第二范式：要求所有非主键字段完全依赖主键，不能产生部分依赖
  - 比如一个表有 学生编号、学生姓名、教师编号、教师姓名，但是学生姓名却没有依赖教师编号
- 第三范式：所有非主键字段和主键字段之间不能产生传递依赖
  - 上一个例子教师姓名依赖于教师编号

### 5.索引
[:rocket::rocket::rocket:](../数据库/MySQL.md#索引)

### 6.如何打破死锁
[:rocket::rocket::rocket:](../Java-多线程/锁机制.md#死锁)
### 7.框架用过啥？
- spring
- orm：mybatis
- springcloud
### 8.配置文件啥类型？
- xml
- yml
- json
- porperties
### 9.持久层框架 mybatis
[:rocket::rocket::rocket:](../Mybatis/mybatis.md)
### 10.mybatis特性？
[:rocket::rocket::rocket:](../Mybatis/mybatis.md)
### 11.linux文件的属性怎么看？属主、属组和其他用户。
在 Linux 中我们可以使用 ll 或者 ls –l 命令来显示一个文件的属性以及文件所属的用户和组
```shell
[root@www /]# ls -l
total 64
dr-xr-xr-x   2 root root 4096 Dec 14  2012 bin
dr-xr-xr-x   4 root root 4096 Apr 19  2012 boot
```
--- 

## 阿里9/2 Java后端 57min
> 作者：蛋蛋超人。
> 链接：https://www.nowcoder.com/discuss/729256?source_id=discuss_experience_nctrack&channel=-1
> 来源：牛客网

#### 1. tcp和udp区别
[:rocket::rocket::rocket:](../计算机网络/TCP_IP.md#udp-和-tcp-的特点)
#### 2. TCP/IP协议涉及哪几层架构
- TCP/UDP 传输层 ; IP 网络层
[:rocket::rocket::rocket:](../计算机网络/网络协议分层.md)
#### 3. 4次挥手为什么是4次
[:rocket::rocket::rocket:](../计算机网络/TCP_IP.md#四次挥手)
#### 4. 为什么要4次挥手
#### 5. 学生表和成绩表sql选出没考试的学生
- 因为不知道表结构，想象写的，应以实际为准
```sql
select stno from stu  
    where stno not in 
        (select stno from gra group by stno having sum("分数") = 0)
```
#### 6. sql选出参加2次考试的学生
- 因为不知道表结构，想象写的，应以实际为准
- 应该是成绩表的每科成绩有两个吧
```sql
select stno from gra group by stno,"科目" having count(*) = 2
```
#### 7. 计算机插上电源操作系统做了什么
1. BIOS自检后，启动磁盘上的活动分区的引导记录，分区引导记录读取执行操作系统的系统文件，比如Windows，
2. Windows开始初始化一些重要的系统数据，然后进行DOS部分和GUI部分的引导和初始化工作
3. 完成后跳出登录界面，允许用户交互
#### 8. 操作系统设备文件有哪些
- Linux 中的设备有2种类型
  - `字符设备(无缓冲且只能顺序存取)` 字符设备是指每次与系统传输1个字符的设备。这些设备节点通常为传真、虚拟终端和串口调制解调器之类设备提供流通信服务，它通常不支持随机存取数据。 字符设备在实现时，大多不使用缓存器。系统直接从设备读取／写入每一个字符。
  - `块设备(有缓冲且可以随机存取))` 块设备是指与系统间用块的方式移动数据的设备。这些设备节点通常代表可寻址设备，如硬盘、CD-ROM和内存区域。
- 在基于Linux的系统中，设备节点一般在/dev下，通常使用如下的前缀
  - fb：frame缓冲
  - fd：软盘
  - hd：IDE硬盘或光驱
  - lp：打印机
  - par：并口
  - pt：伪终端
  - s：SCSI设备
    - scd：SCSI音频光驱
    - sd：SCSI硬盘
    - sg：SCSI通用设备
    - sr：SCSI数据光驱
    - st：SCSI磁带
  - tty：终端
    - ttyS：串口
#### 9. 多线程同步有哪些方法
- synchronized
  - 加锁
- volatile
  - 变量对多个线程可见
- lock
  - 加锁
- ThreadLocal
  - 每个线程都有自己的私有数据互不干扰
- 阻塞队列 如：LinkedBlockingQueue
  - 在队列里排队
- 使用原子变量实现线程同步如：AtomicInteger
  - CAS解决多线程竞争问题
#### 10. 两个方法加 synchronized，一个线程进去sleep，另一个线程可以进入到另一个方法吗
- 问的是synchronized锁方法、锁方法块、锁类的区别
  - `锁方法`是锁住对象，多个对象不干扰
  - `锁方法块`是锁住加锁的对象 synchronized(obj){} 锁住是obj
  - `锁类`是锁住类，那么类的多个实例也是会同步的
- 所以答案是：如果是同一个对象，是进不去的，不同对象实例是ok的

[:rocket::rocket::rocket:](../Java-多线程/锁机制.md)
#### 11. 如何让可重入变成不可重入
- Synchronize和ReentrantLock都是可重入锁，表示如果是当前线程再次进入获取锁时，只是计数+1，退出时计数-1，既拥有锁的对象可再进入。
- 如果变为不可重入可考虑，在tryLock的时候不判断是否为当前线程，状态变量计数也只有0和1，尝试获取锁时直接让CAS，成功置为1，退出置为0，即直接让线程参与竞争
#### 12. 创建线程的三个方法分别什么时候使用

[:rocket::rocket::rocket:](../Java-多线程/线程.md#使用线程)
#### 13. 怎么获取线程的返回值
[:rocket::rocket::rocket:](../Java-多线程/线程.md#Callable如何返回值的)
#### 14. 线程池怎么创建
[:rocket::rocket::rocket:](../Java-多线程/线程池.md#创建线程池的方式)
#### 15. 线程池参数如何设计
[:rocket::rocket::rocket:](../Java-多线程/线程池.md#参数含义)
#### 16. 拒绝策略有哪些
[:rocket::rocket::rocket:](../Java-多线程/线程池.md#handler)
#### 17. 如何设计线程数量
[:rocket::rocket::rocket:](../Java-多线程/线程池.md#如何设置线程数)
#### 18. 5个任务，4个最大线程数，线程池里面同时运行几个任务
4
#### 19. 给用户发消息任务超出队列，你用哪个拒绝策略
- DiscardOldestPolicy抛弃头部最早任务，适用于消息更新
- 重写方案
  - `executor.getQueue().offer(r, 60, TimeUnit.SECONDS);`再等待一段时间
  - `final Thread t = new Thread(r, "Temporary task executor"); t.start();`新建线程去处理
  - `executor.getQueue().put(r);`put阻塞提交
#### 20. 有其他方法吗
#### 21. JMM
[:rocket::rocket::rocket:](../Java-多线程/volatile.md#JMM)
#### 22. 什么时候用多线程、为什么要设计多线程
提交任务处理速度
#### 23. 多线程越多效率越高吗
不是，过多线程会严重影响CPU切换上下文的速度，使速度更慢
#### 24. 多线程会产生哪些并发问题
- 超卖，与预期结果不符（原子性）
- 当读操作和写操作在不同的线程中执行时，我们无法确保执行读操作的线程能实时看到其他线程写入的值。（可见性）
- 多线程（有序性）
  - 指令重排在单线程环境下是安全的，在多线程环境下就可能出现问题。比如：
  ```java
   线程A:
   s=new String("sssss");//指令1
   flag=false;//指令2
  
   线程B:
   while(flag){
      doSome();
   }
   s.toUpperCase();//指令3
   ```
  如果线程A顺序执行，即执行指令1，再执行指令2，线程B的执行不会出现问题。指令重排后，假如线程A先执行指令2，
  这是flag=true，切换到线程2，终止循环，执行指令3，由于s对象尚未创建就会出现空指针异常。

#### 25. dom是什么
#### 26. 前端有哪些标签
#### 27. 前端input参数如何获取
#### 28. 前端参数传到后端，并获取的流程
小的request.getParam 大了可以回答springmvc的流程
[:rocket::rocket::rocket:](../Spring/SpringMVC.md)
#### 29. mybatis如何将对象转换成sql
[:rocket::rocket::rocket:](../Mybatis/mybatis.md#mybatis封装参数执行SQL)
#### 30. jvm内存结构
[:rocket::rocket::rocket:](../Java-JVM/内存结构.md)
#### 31. 栈会溢出吗什么时候，方法区会溢出吗
- 达到最大栈深度栈会溢出
- 方法区也会溢出，jdk1.7方法区也叫永久代，永久代在逻辑上和堆内存是分开的，物理上是连续的，永久代的GC和老年代是捆绑在一起的，所以无论谁满了都会触发full GC,永久代的参数`-XX:PermSize`和`-XX：MaxPermSize`,
  jdk1.8把永久代移除，取代的是元空间，元空间不再和堆连续，而是储存与本地内存，本地内存是供JVM进程使用的，所以也是会有上限的，也会发生溢出
#### 32. jvm如何加载的
[:rocket::rocket::rocket:](../Java-JVM/JVM的启动过程.md)
#### 33. 自己写个String类能加载吗，之前的String是什么时候加载进去的
- 自己写的也能加载，但是默认是双亲委派，会交给父类加载
[:rocket::rocket::rocket:](../Java-JVM/类加载机制.md#双亲委派模型)
#### 34. ThreadLocal为什么要设计key值
ThreadLocal其实内部封装了ThreadLocalMap，ThreadLocalMap是存储数据的真正结构，ThreadLocalMap类似于map，可以用k-v键值对来保存数据，key是线程对象
#### 35. 如何理解微服务，什么时候使用微服务
微服务的对立就是单体服务，我们可以来先看下单体服务的特点：
- 系统间以API方式访问，耦合很高
- 各领域之间采用相同的技术栈，难以快速应用新技术
- 对系统的任何修改都必须整个系统一起部署，运维成本高
- 系统负载增加时，难以水平扩展
- 当系统某一处出现问题，会影响整个系统

为了解决这些问题，微服务架构应运而生，微服务是将一个大的服务拆分为多个小的服务，比如一个商城服务，可以拆为，鉴权服务、查询服务、登录服务、用户信息服务、订单服务、商品信息服务、支付服务等等；

**微服务的主要特点**：
- 单一职责 每个服务只提供一种服务
- 自治 一个微服务是一个独立的实体，它自己独立部署升级，对其他微服务不影响（理想情况）
- 可扩展、高可用  可以水平扩展，多个服务示例来达成高可用
- 灵活组合 多个服务之间可以组合，功能重用，比如鉴权服务可以供所有系统需要鉴权的场景使用
- 技术异构 不同的功能有不同的特点，使用的技术可以不相同

**缺点：**
- 复杂度高
- 运维复杂

---